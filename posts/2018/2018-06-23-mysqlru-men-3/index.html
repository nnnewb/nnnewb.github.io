<!doctype html><html lang=zh><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><meta content="index, follow" name=robots><title>MySQL 24小时入门笔记 - 3</title><meta content="MySQL 24小时入门笔记 - 3" name=title><meta content=一点点从这个世界上消失。 name=description><meta content=website property=og:type><meta content=https://nnnewb.github.io/posts/2018/2018-06-23-mysqlru-men-3/ property=og:url><meta content="weakptr's blog" property=og:site_name><meta content="MySQL 24小时入门笔记 - 3" property=og:title><meta content=一点点从这个世界上消失。 property=og:description><meta content=https://nnnewb.github.io/image/favicon.ico property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://nnnewb.github.io/posts/2018/2018-06-23-mysqlru-men-3/ property=twitter:url><meta content="MySQL 24小时入门笔记 - 3" property=twitter:title><meta content=一点点从这个世界上消失。 property=twitter:description><meta content=https://nnnewb.github.io/image/favicon.ico property=twitter:image><link href=https://nnnewb.github.io/posts/2018/2018-06-23-mysqlru-men-3/ rel=canonical><link rel="shortcut icon" href=https://nnnewb.github.io/image/favicon.ico type=image/x-icon><link href=https://nnnewb.github.io/css/reset.css rel=stylesheet><link href=https://nnnewb.github.io/css/pallete.css rel=stylesheet><link href=https://nnnewb.github.io/css/suCSS.css rel=stylesheet><link href=https://nnnewb.github.io/archive.css rel=stylesheet><link href=https://nnnewb.github.io/style.css rel=stylesheet><script defer src=https://nnnewb.github.io/js/script.js></script><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y rel=stylesheet><script crossorigin defer integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js></script><script crossorigin defer integrity=sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js></script><script crossorigin defer integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js></script><script>document.addEventListener("DOMContentLoaded", function () {
        renderMathInElement(document.body, {
            // customised options
            // • auto-render specific keys, e.g.:
            delimiters: [
                { left: '$$', right: '$$', display: true },
                { left: '$', right: '$', display: false },
                { left: '\\(', right: '\\)', display: false },
                { left: '\\[', right: '\\]', display: false }
            ],
            // • rendering keys, e.g.:
            throwOnError: true
        });
    });</script><script src=https://cdn.jsdelivr.net/npm/mermaid@11.6.0/dist/mermaid.min.js></script><script>document.addEventListener('DOMContentLoaded', function () {
        // 查找所有具有 'pre' 标签且类名为 'language-mermaid' 的元素
        const mermaidElements = document.getElementsByClassName('language-mermaid');
        for (let i = 0; i < mermaidElements.length; i++) {
            const el = mermaidElements.item(i);
            if (el.tagName === "PRE" && !el.classList.contains('mermaid')) {
                el.innerHTML = el.textContent;
                el.classList.add('mermaid');
            }
        }

        mermaid.initialize({ startOnLoad: true, theme: 'dark', });
    })</script><script>if (window.location.hostname.toLowerCase() !== 'localhost' && window.location.hostname !== '127.0.0.1') {
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?dbb9df33a2de52aede8bccd84a7493ad";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    }</script><link href=https://chinese-fonts-cdn.deno.dev/packages/lxgwwenkaibright/dist/LXGWBright-Medium/result.css rel=stylesheet><link href=https://chinese-fonts-cdn.deno.dev/packages/maple-mono-cn/dist/MapleMono-CN-Regular/result.css rel=stylesheet><body><header><nav id=nav-bar><a href=/> 首页 </a>  /  <a href=/posts/> 文章 </a>  /  <a href=/categories/> 分类 </a>  /  <a href=/tags/> 标签 </a>  /  <a href=/search/> 搜索 </a>  /  <div><input id=theme-toggle style=display:none type=checkbox><label for=theme-toggle id=theme-toggle-label><svg class=icons id=theme-icon><use href=https://nnnewb.github.io/icons.svg#lightMode></use></svg></label><audio id=theme-sound><source src=https://nnnewb.github.io/click.ogg type=audio/ogg></audio></div></nav></header><main><h1>MySQL 24小时入门笔记 - 3</h1><p class=author-line>作于：2018-06-23 21:51 ，预计阅读时间 4 分钟<article><h2 id=cha-ru>插入</h2><h3 id=insert>INSERT</h3><p><code>INSERT</code>用法非常简单。现在我们有表<code>students</code>如下。<table><thead><tr><th>列名<th>类型<th>约束<tbody><tr><td>id<td>int<td>primary key<tr><td>name<td>char(16)<td>NOT NULL</table><p>向里面插入一条学号为<code>1</code>，姓名为<code>学姐</code>的学生，只需要写如下<code>SQL</code>语句。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>INSERT INTO</span><span> students </span><span style=color:#fa5c4b>VALUES</span><span> (</span><span style=color:#d3869b>1</span><span>, </span><span style=color:#b8bb26>'学姐'</span><span>);
</span></code></pre><p>语法<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>INSERT INTO</span><span> [表] </span><span style=color:#fa5c4b>VALUES</span><span> (列值1,列值2,...);
</span></code></pre><p>其中<code>INSERT</code>语句有一个简单的变体，能比较明确地指明将值交付给哪个列。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>INSERT INTO</span><span> students (id, name) </span><span style=color:#fa5c4b>VALUES</span><span> (</span><span style=color:#d3869b>1</span><span>, </span><span style=color:#b8bb26>'学妹'</span><span>);
</span></code></pre><p>这样写相当于指明了<code>1</code>应该是<code>id</code>，<code>'学妹'</code>应该是<code>name</code>。<p>插入多条也很简单，只要在<code>VALUES</code>后面跟更多小括号包围的值集合就行了，记得拿括号分隔，下面给个例子。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>INSERT INTO</span><span> students (id, name)
</span><span style=color:#fa5c4b>VALUES</span><span> (</span><span style=color:#d3869b>1</span><span>, </span><span style=color:#b8bb26>'学渣'</span><span>), (</span><span style=color:#d3869b>2</span><span>, </span><span style=color:#b8bb26>'学霸'</span><span>), (</span><span style=color:#d3869b>3</span><span>, </span><span style=color:#b8bb26>'学神'</span><span>);
</span></code></pre><h3 id=insert-select>INSERT SELECT</h3><p>这个写法比较有意思，从一个表查询出数据，并插入另一个表。<p>举个例子来说，我们有两个班级表，分别叫<code>学渣班</code>和<code>补习班</code>，一旦学渣成绩烂到一定程度，那么我们就要把他分配到补习班里去强制补习。<p>怎么做呢？看下面啦。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>INSERT INTO</span><span> 补习班(name,score)
</span><span>	</span><span style=color:#fa5c4b>SELECT </span><span style=color:#b8bb26>学渣班</span><span>.</span><span style=color:#b8bb26>name</span><span>, </span><span style=color:#b8bb26>学渣班</span><span>.</span><span style=color:#b8bb26>score
</span><span>    </span><span style=color:#fa5c4b>FROM</span><span> 学渣班
</span><span>    	</span><span style=color:#fa5c4b>WHERE </span><span style=color:#b8bb26>学渣班</span><span>.</span><span style=color:#b8bb26>score </span><span style=color:#fe8019>&lt; </span><span style=color:#d3869b>10</span><span>;
</span></code></pre><p>值得注意的是，<code>INSERT</code> 填充补习班表时用的并不是你<code>SELECT</code>的列名，而是<code>SELECT</code>后列名的顺序，来对应到要<code>INSERT</code>的表的列上。<p>其他的写法和<code>SELECT</code>相同。<h2 id=xiu-gai>修改</h2><h3 id=update>UPDATE</h3><p><code>UPDATE</code>语句的作用是修改现存行的数据，非常值得注意的是用<code>UPDATE</code>语句时一定要小心写<code>WHERE</code>子句，不然就等着删库跑路吧。<p>依然举个实际栗子，学号为<code>10</code>的学生成绩由于作弊而被取消了，我们要更新他的成绩为 0 分，这真是个悲伤的故事:P<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>UPDATE</span><span> students </span><span style=color:#fa5c4b>SET</span><span> score </span><span style=color:#fe8019>= </span><span style=color:#d3869b>0 </span><span style=color:#fa5c4b>WHERE</span><span> id </span><span style=color:#fe8019>= </span><span style=color:#d3869b>10</span><span>;
</span></code></pre><p>语法是这样的。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>UPDATE</span><span> [表名] </span><span style=color:#fa5c4b>SET</span><span> [列名] </span><span style=color:#fe8019>=</span><span> [新值] </span><span style=color:#fa5c4b>WHERE</span><span> [条件];
</span></code></pre><p>更新多条的话是这样的<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>UPDATE</span><span> [表名]
</span><span style=color:#fa5c4b>SET</span><span> [列1] </span><span style=color:#fe8019>=</span><span> [新值],
</span><span>    [列2] </span><span style=color:#fe8019>=</span><span> [新值],
</span><span>    ...
</span><span>    [列N] </span><span style=color:#fe8019>=</span><span> [新值]
</span><span style=color:#fa5c4b>WHERE</span><span> [条件];
</span></code></pre><blockquote><p>千万小心，如果没有 <code>WHERE</code>子句的话，指定的列会全部被设置成这个值。这样一来，所有的学生都变成了 0 分......你会被手撕了的。</blockquote><h2 id=shan-chu>删除</h2><h3 id=delete>DELETE</h3><p><code>DELETE</code>的作用是删除行，同样的，万分注意<code>WHERE</code>子句一定要正确编写，不然真的要删库跑路了。<p>同样以之前那位作弊的同学为例，很遗憾，他又一次作弊被抓住了，传说中的高科技 AR 技术作弊眼镜也没能让他逃过监考员的火眼金睛，于是他被退学了......<p>另一个悲伤的故事:P<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>DELETE FROM</span><span> students </span><span style=color:#fa5c4b>WHERE</span><span> id </span><span style=color:#fe8019>= </span><span style=color:#d3869b>10</span><span>;
</span></code></pre><p>语法是这样子的。<pre class=language-SQL data-lang=SQL style=color:#fdf4c1aa;background-color:#282828><code class=language-SQL data-lang=SQL><span style=color:#fa5c4b>DELETE FROM</span><span> [表名] </span><span style=color:#fa5c4b>WHERE</span><span> [条件];
</span></code></pre><p>如果不写<code>WHERE</code>的话......找个好点的新工作吧，不要再去写<code>SQL</code>了，ORM 多好。<blockquote><p>注意，不写<code>WHERE</code>子句会删除这个表里的所有行。</blockquote></article><p class=tags-data><a href=/tags/mysql>/mysql/</a></p><script data-repo-id="MDEwOlJlcG9zaXRvcnkzOTg0ODYyMTg=" async crossorigin data-category=Announcements data-category-id=DIC_kwDOF8Bqys4Cegmn data-emit-metadata=0 data-input-position=bottom data-lang=zh-CN data-mapping=pathname data-reactions-enabled=1 data-repo=nnnewb/nnnewb.github.io data-strict=0 data-theme=noborder_light id=giscus_script src=https://giscus.app/client.js></script></main><footer><hr><div id=footer-container><div><p style=text-align:center>Copyright © 2018-2024 weakptr <a href=mailto:weak_ptr@outlook.com>&lt;weak_ptr@outlook.com></a><p style=text-align:center>Built with <a rel="noopener noreferrer" href=https://www.getzola.org target=_blank>Zola</a> using <a rel="noopener noreferrer" href=https://github.com/Speyll/anemone target=_blank>anemone</a> theme, <a rel="noopener noreferrer" href=https://speyll.github.io/suCSS/ target=_blank>suCSS</a> framework & <a rel="noopener noreferrer" href=https://github.com/Speyll/veqev target=_blank>veqev</a>, modified by <a rel="noopener noreferrer" href=https://github.com/nnnewb/ target=_blank>nnnewb</a>.<p style=text-align:center>Theme and color theme licensed under <a rel="noopener noreferrer" href=https://en.wikipedia.org/wiki/Licence_MIT target=_blank>MIT</a>.</div></div></footer>